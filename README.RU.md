###########################################################################################
#
#               ssd1306 - пример проекта для STM32F103 (Black Pill board)
#
###########################################################################################


## Состав рабочего оборудования:

```
* stm32f103C8t6 (Black Pill board) - плата микроконтроллера
* ssd1306 - OLED дисплей 0.96" 128x64 (интерфейс I2C)
* bmp280 - датчик атмосферного давления и температуры воздуха (интерфейс I2C).
```


# Средства разработки:

```
* STM32CubeMX - графический пакет для создание проектов (на языке Си) под микроконтроллеры семейства STM32
  (https://www.st.com/en/development-tools/stm32cubemx.html).
* System Workbench for STM32 - IDE среда разработки ПО для микроконтроллеров семейства STM32
  (https://www.st.com/en/development-tools/sw4stm32.html).
* StLink Tools - утилиты для отладки и записи во flash-ROM готовых бинарников с помощью отладчика St-Link/v2
  (сырцы тут -  https://github.com/texane/stlink).
* stm32flash - утилита для программирования (прошивки) flash-ROM микроконтроллеров семейства STM32
  через встроенный порт UART1 (сырцы тут - https://sourceforge.net/projects/stm32flash/files/)
```


# Функционал:

```
* Устройство инициализирует некоторые интерфейсы микроконтроллера :
  - GPIO : подключены два сетодиода : LED1(PB0) - секундная индикация таймера, LED2(PB12) - индикация ошибки,
  - RTC : модуль инициализирован, но не используется,
  - I2C2 : режим мастера с частотой 400Кгц,
  - UART1 : параметры порта 500000 8N1 - порт для логов, если подключен комп.
  - DMA1 : используется канал № 4 для пересылки данных в UART1.
  - TIM2 : таймер-счетчик секунд, реализован в обработчике прерывания.
  - ADC1 : измеряет напряжение питания (через пин PA5)
* Системный таймер (TIM4) считает миллисекунды от начала работы устройства.
* Каждые 10 секунд считываются данные с датчика bmp280, выполняется пересчет атмосферного
  давления в мм ртутного столба и температуры в градусы Цельсия, полученные данные выдаются
  в UART1, например :
000.00:00:02 | Start main ver. 1.8
000.00:00:03 | Vcc=3.081 v, ADDR=0x76 (BMP280) Press=759.05 mmHg, Temp=26.59 DegC
000.00:00:13 | Vcc=3.049 v, ADDR=0x76 (BMP280) Press=759.08 mmHg, Temp=26.58 DegC
000.00:00:23 | Vcc=3.068 v, ADDR=0x76 (BMP280) Press=759.09 mmHg, Temp=26.60 DegC
  Эти же данные (время работы, атмосферное давление и температура воздуха) отображаются на дисплей ssd1306.
```
